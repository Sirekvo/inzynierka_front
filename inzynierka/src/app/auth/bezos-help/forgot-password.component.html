<main class="main d-flex align-items-baseline">
    <div class="container">
        <div class="row">
            <div class="col-md-8 col-lg-6 mx-auto">
                <app-auth-logo></app-auth-logo>
                <div class="card">
                    <div class="card-body m-4">
                        <form id="forgotPasswordForm" #f="ngForm" (submit)="onForgotPassword(f)">
                            <h1>{{'ForgotPassword.Title' | translate}}</h1>
                            <p class="text-muted">{{'ForgotPassword.Description' | translate}}</p>
                            <div class="input-group mb-2" *ngIf="isFormDisabled">
                                <alert type="info" dismissible="true"
                                       (onClose)="router.navigate(['..'])">{{'ForgotPassword.Confirmation' | translate}}</alert>
                            </div>
                            <div class="input-group mb-4" *ngIf="!isFormDisabled">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">@</span>
                                </div>
                                <input class="form-control"
                                       id="email"
                                       name="email"
                                       type="text"
                                       autocomplete="email"
                                       placeholder="{{'ForgotPassword.Email' | translate}}"
                                       required
                                       email
                                       ngModel
                                       #email="ngModel"
                                       [ngClass]="{ 'is-invalid': (email.touched && email.invalid) || errorMessage !== '', 'is-valid': email.touched && !email.invalid }"/>
                                <div *ngIf="email.touched && email.invalid"
                                     class="invalid-feedback">
                                    {{'ForgotPassword.EmailValidation' | translate}}
                                </div>
                            </div>
                            <alert type="danger" dismissible="true" (onClose)="errorMessage = ''"
                                   *ngIf="errorMessage !== ''">{{errorMessage}}</alert>
                            <button class="btn btn-block btn-primary"
                                    type="submit"
                                    [disabled]="!f.valid"
                                    *ngIf="!isFormDisabled">{{'ForgotPassword.Button' | translate}}</button>
                            <button class="btn btn-block btn-primary"
                                    routerLink="/login"
                                    *ngIf="isFormDisabled">{{'ForgotPassword.LoginButton' | translate}}</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
